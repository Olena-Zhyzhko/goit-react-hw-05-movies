"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[37],{37:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(885),a=r(791),s=r(596),u=r(184);function c(e){var t=e.onSubmit,r=(0,a.useState)(""),c=(0,n.Z)(r,2),o=c[0],i=c[1];return(0,u.jsx)("div",{children:(0,u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===o.trim())return(0,s.Am)("Enter search word, please.");t(o),i("")},children:[(0,u.jsx)("button",{type:"submit",className:"SearchForm-button",children:(0,u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),(0,u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",name:"searchMovie",value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})}var o=r(861),i=r(757),l=r.n(i),h=r(697),m=r(731);function f(e){var t=e.films,r=e.location;return(0,u.jsx)(u.Fragment,{children:t.map((function(e){var t=e.id,n=e.title;return(0,u.jsx)("li",{className:"ImageGalleryItem",children:(0,u.jsx)(m.rU,{to:"".concat(t),state:{from:r},children:n})},t)}))})}var p=r(689),v=r(983);function d(e){var t,r=e.searchMovie,c=(0,a.useState)([]),i=(0,n.Z)(c,2),d=i[0],x=i[1],j=(0,m.lr)(),S=(0,n.Z)(j,2),y=S[0],b=S[1],g=(0,p.TH)(),k=null!==(t=y.get("query"))&&void 0!==t?t:"",w=(0,a.useState)(!1),Z=(0,n.Z)(w,2),F=Z[0],C=Z[1],N=(0,a.useState)(null),_=(0,n.Z)(N,2),q=_[0],A=_[1];function E(){return(E=(0,o.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,(0,h.XG)(t);case 4:M(r=e.sent),x(r.data.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),A(e.t0);case 12:return e.prev=12,C(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))).apply(this,arguments)}function M(e){if(0===e.data.results.length)return s.Am.error("Sorry, there are no images matching your search query. Please try again.");s.Am.success("Hooray! We found some movies for you.")}return(0,a.useEffect)((function(){var e;""!==r&&b(""!==(e=r)?{query:e}:{})}),[r]),(0,a.useEffect)((function(){""!==k&&function(e){E.apply(this,arguments)}(k)}),[k]),(0,u.jsxs)("ul",{children:[q&&(0,u.jsx)("p",{children:q.massage}),F&&(0,u.jsx)(v.Z,{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c"}),d.length>0&&(0,u.jsx)(f,{films:d,location:g})]})}function x(){var e=(0,a.useState)(""),t=(0,n.Z)(e,2),r=t[0],s=t[1];return(0,u.jsxs)("div",{children:[(0,u.jsx)(c,{onSubmit:function(e){s(e)}}),(0,u.jsx)(d,{searchMovie:r})]})}}}]);
//# sourceMappingURL=37.5e8bbdd2.chunk.js.map